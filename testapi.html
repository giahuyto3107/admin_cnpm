<!DOCTYPE html>
<html>
<head>
  <title>Tìm kiếm sản phẩm</title>
  <script>
    function searchProduct() {
      let keyword = document.getElementById('search-input').value;
      let apiUrl = `http://localhost:8080/api/v1/products?search=${keyword}`;

      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          displayResults(data);
        })
        .catch(error => {
          console.log('Có lỗi xảy ra:', error);
        });
    }

    function displayResults(data) {
      let resultList = document.getElementById('results-list');
      
      // Xóa các phần tử trong danh sách trước khi cập nhật dữ liệu mới
      resultList.innerHTML = '';

      // Tạo các phần tử danh sách
      for (let i = 0; i < data.length; i++) {
        let product = data[i];

        let listItem = document.createElement('li');
        listItem.textContent = `ID: ${product.id}, Tên sản phẩm: ${product.product_name}`;
        resultList.appendChild(listItem);
      }
    }
  </script>
</head>
<body>
  <h1>Tìm kiếm sản phẩm</h1>
  <div>
    <input type="text" id="search-input" placeholder="Nhập từ khóa tìm kiếm">
    <button onclick="searchProduct()">Tìm kiếm</button>
  </div>
  <ul id="results-list">
    <!-- Danh sách kết quả tìm kiếm sẽ được tạo và cập nhật tại đây -->
  </ul>
</body>
</html>