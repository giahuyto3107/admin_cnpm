<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="css/toast-message.css">
    <link rel="stylesheet" href="css/admin-responsive.css">
    <link rel="icon" href="/pic/logo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href='https://fontawesome.com/search?q=sort&o=r' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>
    <title>Quản lý cửa hàng</title>
</head>

<body>
    <div class="container">
        <div class="sidebar active">
            <div class="menu-btn">
                <i class="material-symbols-outlined">chevron_left</i>
            </div>
            <div class="head">
                <div class="user-img">
                    <img src="/pic/logo.png" alt="">
                </div>
                <div class="user-details">
                    <h3 class="title">Sneaker<span class="color">Osasis</span></h3>
                </div>
            </div>
            <div class="nav">
                <div class="menu">
                    <div class="slide"></div>
                    <p class="title">Main</p>
                    <ul>
                        <li class="sidebar-list-item tab-content active">
                            <a href="#">
                                <i class="material-symbols-outlined">
                                    grid_view
                                    </i>
                                <span class="text">Dashboard</span>
                            </a>
                        </li>
                        <li class="sidebar-list-item tab-content">
                            <a href="#">
                                <i class="material-symbols-outlined">
                                    steps
                                    </i>
                                <span class="text">Product</span>
                               
                            </a>
                        </li>
                        <li class="sidebar-list-item tab-content">
                            <a href="#">
                                <i class="material-symbols-outlined">
                                    groups
                                    </i>
                                <span class="text">Customer</span>
                            </a>
                        </li>
                       <li class="sidebar-list-item tab-content">
                            <a href="#">
                                <i class="material-symbols-outlined">
                                    shopping_cart
                                    </i>
                                <span class="text">Orders</span>
                            </a>
                        </li>  
                        <li class="sidebar-list-item tab-content">
                            <a href="#">
                                <i class="material-symbols-outlined">
                                    show_chart
                                    </i>
                            <span class="text">Statistics</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="menu">
                <div class="slide"></div>
                <p class="title">Settings</p>
                <ul>
                    <li class="sidebar-list-item user-logout">
                        <a href="/index.html">
                            <span class="material-symbols-outlined">
                                first_page
                                </span>
                        <span class="text">HomePage</span>
                        </a>
                    </li>
                    <li class="sidebar-list-item user-logout">
                        <a href="#" id="logout-acc">
                            <i class="material-symbols-outlined">
                                logout
                                </i>
                        <span class="text">Logout</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!--main-->
        <main class="content">  
            <div class="top-sidebar">
                <div class="topbar">
                    <h1 class="title-mainpage">QUẢN LÍ CỬA HÀNG</h1>
                    <div class="hidden-sidebar" id="name-acc"></div>
                        <div class="circle"></div>
                        <div class="user">
                        <img src="/pic/userprofile.jpg">
                        </div>
                </div>
            </div>
            <div class="section active">
                <h1 class="page-title">Trang tổng quát của SneakerOsasis</h1>
                <div class="cards">
                    <div class="card-single">
                        <div class="box">
                          <div class="flip-card">
                            <div class="flip-card-inner">
                              <div class="flip-card-front">
                                <div class="on-box">
                                  <img src="/pic/img1.jpg" >
                                  <h3>Khách hàng</h3>
                                </div>
                              </div>
                              <div class="flip-card-back">
                                <h2 id="amount-user"></h2>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="card-single">
                        <div class="box">
                          <div class="flip-card">
                            <div class="flip-card-inner">
                              <div class="flip-card-front">
                                <div class="on-box">
                                   <img src="/pic/img2.jpg" >
                                    <h3>Sản phẩm</h3> 
                                </div>
                              </div>
                              <div class="flip-card-back">
                                <h2 id="amount-product"></h2>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="card-single">
                        <div class="box">
                          <div class="flip-card">
                            <div class="flip-card-inner">
                              <div class="flip-card-front">
                                <div class="on-box">
                                   <img src="/pic/img3.jpg">
                                    <h3>Doanh thu</h3> 
                                </div>
                              </div>
                              <div class="flip-card-back">
                                <h2 id="doanh-thu"></h2>
                              </div>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
            </div> 
             <!-- Product  -->
             <div class="section product-all">
                <div class="admin-control">
                    <div class="admin-control-left">
                        <select name="the-loai" id="the-loai" onchange="showProduct()">
                            <option>Tất cả</option>
                            <option>Nike</option>
                            <option>Jordan</option>
                            <option>Adidas</option>
                            <option>Converse</option>
                            <option>Vans</option>
                            <option>Khác</option>
                            <option>Đã xóa</option>
                        </select>
                    </div>
                    <div class="admin-control-center">
                        <form action="" class="form-search">
                            <span class="search-btn"><i class="search-btn"><i class="material-symbols-outlined">
                                search
                                </i></i></span>
                            <input id="form-search-product" type="text" class="form-search-input" placeholder="Tìm kiếm....." oninput="showProduct()">
                        </form>
                    </div>
                    <div class="admin-control-right">
                        <button class="btn-control-large" id="btn-cancel-product" onclick="cancelSearchProduct()"><i class="material-symbols-outlined">
                            restart_alt
                            </i><span> Làm mới</span></button>
                        <button class="btn-control-large" id="btn-add-product"><i class="material-symbols-outlined">
                            add
                            </i> <span> Thêm sản phẩm mới</span></button>                  
                    </div>
                </div>
                <div id="show-product"></div>
                <div class="page-nav">
                    <ul class="page-nav-list">
                    </ul>
                </div>
            </div>
            <!-- Account  -->
            <div class="section">
                <div class="admin-control">
                    <div class="admin-control-left">
                        <select name="tinh-trang-user" id="tinh-trang-user" onchange="showUser()">
                            <option value="2">Tất cả</option>
                            <option value="1">Hoạt động</option>
                            <option value="0">Bị khóa</option>
                        </select>
                    </div>
                    <div class="admin-control-center">
                        <form action="" class="form-search">
                            <span class="search-btn"><i class="material-symbols-outlined">
                                search
                                </i></i></span>
                            <input id="form-search-user" type="text" class="form-search-input" placeholder="Tìm kiếm khách hàng..." oninput="showUser()">
                        </form>
                    </div>
                    <div class="admin-control-right">
                        <form action="" class="fillter-date">
                            <div>
                                <label for="time-start">Từ</label>
                                <input type="date" class="form-control-date" id="time-start-user" onchange="showUser()">
                            </div>
                            <div>
                                <label for="time-end">Đến</label>
                                <input type="date" class="form-control-date" id="time-end-user" onchange="showUser()">
                            </div>
                        </form>      
                        <button class="btn-reset-order" onclick="cancelSearchUser()"><i class="material-symbols-outlined">
                            restart_alt
                            </i></button>     
                        <button id="btn-add-user" class="btn-control-large" onclick="openCreateAccount()"><i class="material-symbols-outlined">
                            add
                            </i> <span>Thêm khách hàng</span></button>          
                    </div>
                </div>
                <div class="tab">
                    <div class="table">
                    <table width="100%">
                        <thead>
                            <tr>
                                <td>STT</td>
                                <td>Họ và tên</td>
                                <td>Liên hệ</td>
                                <td>Ngày tham gia</td>
                                <td>Tình trạng</td>
                                <td></td>
                            </tr>
                        </thead>
                        <tbody id="show-user">
                        </tbody>
                    </table> 
                </div>
                <div class="graphBox1">
                        <div class="box1">
                            <canvas id="myChart1" ></canvas>
                        </div>
                    </div> 
                </div>
                <!-- </div> -->
            </div>
            <!-- Order  -->
            <div class="section">
                <div class="admin-control">
                    <div class="admin-control-left">
                        <select name="tinh-trang" id="tinh-trang" onchange="findOrder()">
                            <option value="2">Tất cả</option>
                            <option value="1">Đã xử lý</option>
                            <option value="0">Chưa xử lý</option>
                        </select>
                    </div>
                    <div class="admin-control-center">
                        <form action="" class="form-search">
                            <span class="search-btn"><i class="material-symbols-outlined">
                                search
                                </i></span>
                            <input id="form-search-order" type="text" class="form-search-input" placeholder="Tìm kiếm mã đơn, khách hàng..." oninput="findOrder()">
                        </form>
                    </div>
                    <div class="admin-control-right">
                        <form action="" class="fillter-date">
                            <div>
                                <label for="time-start">Từ</label>
                                <input type="date" class="form-control-date" id="time-start" onchange="findOrder()">
                            </div>
                            <div>
                                <label for="time-end">Đến</label>
                                <input type="date" class="form-control-date" id="time-end" onchange="findOrder()">
                            </div>
                        </form>      
                        <button class="btn-reset-order" onclick="cancelSearchOrder()"><i class="material-symbols-outlined">
                            restart_alt
                            </i></button>               
                    </div>
                </div>
                <div class="table">
                    <table width="100%">
                        <thead>
                            <tr>
                                <td>Mã đơn</td>
                                <td>Khách hàng</td>
                                <td>Ngày đặt</td>
                                <td>Tổng tiền</td>
                                <td>Trạng thái</td>
                                <td>Thao tác</td>
                            </tr>
                        </thead>
                        <tbody id="showOrder">
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="section">
                <div class="admin-control">
                    <div class="admin-control-left">
                        <select name="the-loai-tk" id="the-loai-tk" onchange="thongKe()">
                            <option>Tất cả</option>
                            <option>Nike</option>
                            <option>Jordan</option>
                            <option>Adidas</option>
                            <option>Converse</option>
                            <option>Vans</option>
                            <option>Khác</option>
                        </select>
                    </div>
                    <div class="admin-control-center">
                        <form action="" class="form-search">
                            <span class="search-btn"><i class="material-symbols-outlined">
                                search
                                </i></i></span>
                            <input id="form-search-tk" type="text" class="form-search-input" placeholder="Tìm kiếm tên sản phẩm..." oninput="thongKe()">
                        </form>
                    </div>
                    <div class="admin-control-right">
                        <form action="" class="fillter-date">
                            <div>
                                <label for="time-start">Từ</label>
                                <input type="date" class="form-control-date" id="time-start-tk" onchange="thongKe()">
                            </div>
                            <div>
                                <label for="time-end">Đến</label>
                                <input type="date" class="form-control-date" id="time-end-tk" onchange="thongKe()">
                            </div>
                        </form> 
                        <button class="btn-reset-order" onclick="thongKe(1)"><i class="material-symbols-outlined">
                            arrow_upward
                            </i></button>
                        <button class="btn-reset-order" onclick="thongKe(2)"><i class="material-symbols-outlined">
                            arrow_downward
                            </i></button>
                        <button class="btn-reset-order" onclick="thongKe(0)"><i class="material-symbols-outlined">
                            restart_alt
                            </i></button>                    
                    </div>
                </div>
                <div class="order-statistical" id="order-statistical">
                    <div class="order-statistical-item">
                        <div class="order-statistical-item-content">
                            <p class="order-statistical-item-content-desc">Sản phẩm được bán ra</p>
                            <h4 class="order-statistical-item-content-h" id="quantity-product"></h4>
                        </div>
                        <div class="order-statistical-item-icon">
                            <i class="material-symbols-outlined">
                                inventory_2
                                </i>
                        </div>
                    </div>
                    <div class="order-statistical-item">
                        <div class="order-statistical-item-content">
                            <p class="order-statistical-item-content-desc">Số lượng bán ra</p>
                            <h4 class="order-statistical-item-content-h" id="quantity-order"></h4>
                        </div>
                        <div class="order-statistical-item-icon">
                            <i class="material-symbols-outlined">
                                inventory
                                </i>
                        </div>
                    </div>
                    <div class="order-statistical-item">
                        <div class="order-statistical-item-content">
                            <p class="order-statistical-item-content-desc">Doanh thu</p>
                            <h4 class="order-statistical-item-content-h" id="quantity-sale"></h4>
                        </div>
                        <div class="order-statistical-item-icon">
                            <i class="material-symbols-outlined">
                                attach_money
                                </i>
                        </div>
                    </div>
                </div>
                <div class="tab">      
                <div class="table">
                    <table width="100%">
                        <thead>
                            <tr>
                                <td>STT</td>
                                <td>Tên sản phẩm</td>
                                <td>Số lượng bán</td>
                                <td>Doanh thu</td>
                                <td></td>
                            </tr>
                        </thead>
                        <tbody id="showTk">
                        </tbody>
                    </table>
                </div>
                 <!--Chart-->
                 <div class="graphBox">
                    <div class="box">
                        <canvas id="myChart" ></canvas>
                    </div>
                    <div class="box2">
                        <canvas id="myChart2" ></canvas>
                    </div>
                </div>
            </div>
            </div>
        </main>
    </div>

    <div class="modal add-product">
        <div class="modal-container">
            <h3 class="modal-container-title add-product-e">THÊM MỚI SẢN PHẨM</h3>
            <h3 class="modal-container-title edit-product-e">CHỈNH SỬA SẢN PHẨM</h3>
            <button class="modal-close product-form"><i class="material-symbols-outlined">
                close
                </i></button>
            <div class="modal-content">
                <form action="" class="add-product-form">
                    <div class="modal-content-left">
                        <img src="/pic/add-img.png" alt="" class="upload-image-preview">
                        <div class="form-group file">
                            <label for="up-hinh-anh" class="form-label-file"><i class="fa-regular fa-cloud-arrow-up"></i>Chọn hình ảnh</label>
                            <input accept="image/jpeg, image/png, image/jpg" id="up-hinh-anh" name="up-hinh-anh" type="file" class="form-control" onchange="uploadImage(this)">
                        </div>
                    </div>
                    <div class="modal-content-right">
                        <div class="form-group">
                         <label for="ten-mon" class="form-label">Tên sản phẩm</label>
                            <input id="ten-mon" name="ten-mon" type="text" placeholder="Nhập tên sản phẩm..."
                                class="form-control">
                            <span class="form-message"></span>
                        </div>
                        <div class="form-group">
                            <label for="category" class="form-label">Chọn sản phẩm</label>
                            <select name="category" id="chon-mon">
                                <option>Nike</option>
                                <option>Jordan</option>
                                <option>Adidas</option>
                                <option>Converse</option>
                                <option>Vans</option>
                            </select>
                            <span class="form-message"></span>
                        </div>
                        <div class="form-group">
                            <label for="gia-moi" class="form-label">Giá bán</label>
                            <input id="gia-moi" name="gia-moi" type="text" placeholder="Nhập giá bán"
                                class="form-control">
                            <span class="form-message"></span>
                        </div>
                        <div class="form-group">
                            <label for="mo-ta" class="form-label">Mô tả</label>
                            <textarea class="product-desc" id="mo-ta" placeholder="Nhập mô tả sản phẩm..."></textarea>
                            <span class="form-message"></span>
                        </div>
                        <button class="form-submit2 btn-add-product-form add-product-e" id="add-product-button">
                            <i class="material-symbols-outlined">
                                add
                                </i>
                            <span>THÊM SẢN PHẨM</span>
                        </button>
                        <button class="form-submit2 btn-update-product-form edit-product-e" id="update-product-button">
                            <i class="material-symbols-outlined">
                                edit_note
                                </i>
                            <span>LƯU THAY ĐỔI</span>
                        </button>
                    </div>
                </form>
            </div>
            </form>
        </div>
    </div>

    <div class="modal detail-order">
        <div class="modal-container">
            <h3 class="modal-container-title">CHI TIẾT ĐƠN HÀNG</h3>
            <button class="modal-close"><i class="material-symbols-outlined">
                close
                </i></button>
            <div class="modal-detail-order">
            </div>
            <div class="modal-detail-bottom">               
            </div>
            </form>
        </div>
    </div>

    <div class="modal detail-order-product">
        <div class="modal-container">
            <button class="modal-close"><i class="material-symbols-outlined">
                close
                </i></button>
            <div class="table">
                <table width="100%">
                    <thead>
                        <tr>
                            <td>Mã đơn</td>
                            <td>Số lượng</td>
                            <td>Đơn giá</td>
                            <td>Ngày đặt</td>
                        </tr>
                    </thead>
                    <tbody id="show-product-order-detail">
                    </tbody>
                </table>
            </div>
            </form>
        </div>
    </div>

    <div class="modal signup">
        <div class="modal-container">
            <h3 class="modal-container-title add-account-e">THÊM KHÁCH HÀNG MỚI</h3>
            <h3 class="modal-container-title edit-account-e">CHỈNH SỬA THÔNG TIN</h3>
            <button class="modal-close"><i class="material-symbols-outlined">
                close
                </i></button>
            <div class="form-content sign-up">
                <form action="" class="signup-form">
                    <div class="form-group">
                        <label for="fullname" class="form-label">Tên đầy đủ</label>
                        <input id="fullname" name="fullname" type="text" placeholder="VD: ABCD" class="form-control">
                        <span class="form-message-name form-message"></span>
                    </div>
                    <div class="form-group">
                        <label for="phone" class="form-label">Số điện thoại</label>
                        <input id="phone" name="phone" type="text" placeholder="Nhập số điện thoại" class="form-control">
                        <span class="form-message-phone form-message"></span>
                    </div>
                    <div class="form-group">
                        <label for="password" class="form-label">Mật khẩu</label>
                        <input id="password" name="password" type="text" placeholder="Nhập mật khẩu" class="form-control">
                        <span class="form-message-password form-message"></span>
                    </div>   
                    <div class="form-group edit-account-e">
                        <label for="" class="form-label">Trạng thái</label>
                        <input type="checkbox" id="user-status" class="switch-input">
                        <label for="user-status" class="switch"></label>
                    </div>
                    <button class="form-submit add-account-e" id="signup-button">Đăng ký</button>
                    <button class="form-submit4 edit-account-e" id="btn-update-account"><i class="material-symbols-outlined">
                        save
                        </i> <span> Lưu</span></button>
                </form>
            </div>
        </div>
    </div>
    
    <div id="toast"></div>
    
    <!-- Jquery -->
    <script
    src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.js"
    integrity="sha512-8Z5++K1rB3U+USaLKG6oO8uWWBhdYsM3hmdirnOEWp8h2B1aOikj5zBzlXs8QOrvY9OxEnD2QDkbSKKpfqcIWw=="
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/admin.js"></script>
    <script src="/js/chart.js"></script>
    <script src="/js/initial.js"></script>
    <script src="/js/toast-message.js"></script>
</body>
</html>